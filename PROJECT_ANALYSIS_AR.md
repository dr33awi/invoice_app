# ุชุญููู ุดุงูู ููุดุฑูุน ุชุทุจูู ุฅุฏุงุฑุฉ ุงูููุงุชูุฑ

---

## 1๏ธโฃ ุงููุนูููุงุช ุงูุนุงูุฉ ุนู ุงููุดุฑูุน

### ุงุณู ุงูุชุทุจูู:
**ูุธุงู ููุงุชูุฑ ุงูุฌููุฉ**  
`wholesale_invoice`

### ููุน ุงูุชุทุจูู:
- **ููุงุชูุฑ + ูุญุงุณุจุฉ + ููุงุท ุจูุน**
- ุฅุฏุงุฑุฉ ุนููุงุก ุดุงููุฉ
- ุชูุงุฑูุฑ ูุจูุนุงุช ููููุฉ
- ุฅุฏุงุฑุฉ ุงููุฎุฒูู

### ุงููุฆุฉ ุงููุณุชูุฏูุฉ:
- **ุชุฌุงุฑ ุงูุฌููุฉ (Wholesale dealers)**
- **ูุฏูุฑู ุงููุจูุนุงุช**
- **ุฃุตุญุงุจ ุงูุดุฑูุงุช ุงูุตุบูุฑุฉ ูุงููุชูุณุทุฉ**

### ุญุฌู ุงููุดุฑูุน:
**ูุชูุณุท - ูููู ุฅูู ุงููุจูุฑ**
- ุนุฏุฏ ุงููููุงุช: 50+ ููู
- ุนูู ุงูุจููุฉ: 5 ุทุจูุงุช (Clean Architecture)
- ุนุฏุฏ ุงูุญุฒู ุงููุณุชุฎุฏูุฉ: 20+ ุญุฒูุฉ

### ุญุงูุฉ ุงููุดุฑูุน:
**ุฌุงูุฒ ููุฅูุชุงุฌ (Production-Ready)**
- โ ูุธุงู ูุฒุงููุฉ ูุงูู
- โ ุฏุนู ุงูุนูู ุจูุง ุฅูุชุฑูุช (Offline-First)
- โ ูุธุงู ูุณุฎ ุงุญุชูุงุทู
- โ ุทุจุงุนุฉ PDF
- โ๏ธ ุจุนุถ ุงูุฃุฎุทุงุก ุงูุซุงูููุฉ (Non-Critical)

### ุงูููุตุงุช ุงููุณุชูุฏูุฉ:
- โ **Android** - ูุฏุนูู ุจุงููุงูู
- โ **iOS** - ูุฏุนูู ุจุงููุงูู
- โ **Web** - ููุฌูุฏ ูู ุงูุจููุฉ
- โ **Desktop** - ูู ูุชู ุชูููุฐู

---

## 2๏ธโฃ ูุตู ุดุงูู ููุธุงุฆู ุงูุชุทุจูู (Business Logic)

### 2.1 ุฅูุดุงุก ุงูููุงุชูุฑ ๐

#### ุขููุฉ ุงูุฅูุดุงุก:
```
ุงููุณุชุฎุฏู โ ุงุฎุชูุงุฑ ุนููู โ ุฅุถุงูุฉ ููุชุฌุงุช โ ุชุญุฏูุฏ ุงูุฎุตู โ ุงุฎุชูุงุฑ ุทุฑููุฉ ุงูุฏูุน โ ุญูุธ
```

#### ุงูุญููู ุงูุฃุณุงุณูุฉ:
- **ูุนุฑู ุงููุงุชูุฑุฉ** (`id`): UUID ูุฑูุฏ
- **ุฑูู ุงููุงุชูุฑุฉ** (`invoiceNumber`): ูููุชุฌ ุจูุงุกู ุนูู ุงูุจุงุฏุฆุฉ + ุชุณูุณูู
- **ุชุงุฑูุฎ ุงููุงุชูุฑุฉ** (`invoiceDate`): ุชุงุฑูุฎ ุฅูุดุงุก ุงููุงุชูุฑุฉ
- **ุชุงุฑูุฎ ุงูุงุณุชุญูุงู** (`dueDate`): ุงุฎุชูุงุฑู ูุฃุฌู ุงูุฏูุน
- **ุญุงูุฉ ุงููุงุชูุฑุฉ** (`status`): draft | confirmed | cancelled

#### ูุนูููุงุช ุงูุนููู:
```dart
- customerName: ุงุณู ุงูุนููู
- customerId: ูุฑุฌุน ูู Customers Collection
- customerPhone: ุฑูู ุงููุงุชู
- customerAddress: ุงูุนููุงู
```

#### ุจูุงูุงุช ุงูููุงุชูุฑ:
```dart
- items: List<InvoiceItemModel> (ูุงุฆูุฉ ุงูููุชุฌุงุช)
  โโโ productId: ูุนุฑู ุงูููุชุฌ
  โโโ productName: ุงุณู ุงูููุชุฌ
  โโโ size: ุงูููุงุณ
  โโโ quantity: ุงููููุฉ
  โโโ unitPrice: ุณุนุฑ ุงููุญุฏุฉ (ุจุงูุฏููุงุฑ)
  โโโ total: ุงูุฅุฌูุงูู (ูููุฉ ร ุณุนุฑ)
```

#### ุงูููุงุนุฏ ุงูุญุณุงุจูุฉ:

**1. ุญุณุงุจ ุงูุฅุฌูุงูู:**
```
Subtotal (USD) = ฮฃ(item.quantity ร item.unitPrice)
```

**2. ุญุณุงุจ ุงูุฎุตู:**
```
Discount Amount = Subtotal ร (Discount % / 100)
Total USD = Subtotal - Discount Amount
```

**3. ุชุญููู ุงูุนููุงุช:**
```
Exchange Rate: ุณุนุฑ ุตุฑู ูุงุจู ููุชุนุฏูู ููููุงู
Total IQD = Total USD ร Exchange Rate
```

**4. ุญุณุงุจ ุญุงูุฉ ุงูุฏูุน:**
```
if (Paid Amount == Total USD)
  โ Status = "paid" โ
else if (Paid Amount > 0 && Paid Amount < Total USD)
  โ Status = "partial" โ๏ธ
else (Paid Amount == 0)
  โ Status = "unpaid" โ
```

**5. ุญุณุงุจ ุงููุจูุบ ุงููุชุจูู:**
```
Remaining Amount = Total USD - Paid Amount
```

#### ุทุฑู ุงูุฏูุน ุงููุฏุนููุฉ:
- **ููุฏ** (Cash) - ุงูุงูุชุฑุงุถู
- **ุดูู** (Check)
- **ุชุญููู ุจููู** (Bank Transfer)
- **ุจุทุงูุฉ ุงุฆุชูุงู** (Credit Card)
- **ุชูุณูุท** (Installment)

---

### 2.2 ุฅุฏุงุฑุฉ ุงูุนููุงุก ๐ฅ

#### ุญููู ุงูุนููู:
```dart
CustomerModel {
  id: String,              // ูุนุฑู ูุฑูุฏ
  name: String,            // ุงุณู ุงูุนููู
  phone: String,           // ุฑูู ุงููุงุชู ุงูุฑุฆูุณู
  secondaryPhone: String,  // ุฑูู ุจุฏูู
  address: String,         // ุงูุนููุงู
  city: String,           // ุงููุฏููุฉ
  
  // ุงูุจูุงูุงุช ุงููุงููุฉ
  totalPurchases: double,  // ุฅุฌูุงูู ุงููุดุชุฑูุงุช
  totalPaid: double,       // ุฅุฌูุงูู ุงููุฏููุน
  balance: double,         // ุงูุฏููู ุงููุชุจููุฉ
  
  // ุงูุจูุงูุงุช ุงูุฅุถุงููุฉ
  type: String,            // wholesale | retail
  rating: int (1-5),       // ุชูููู ุงูุนููู
  lastPurchaseDate: Date,  // ุขุฎุฑ ุนูููุฉ ุดุฑุงุก
  notes: String,           // ููุงุญุธุงุช
  isActive: bool,          // ุงูุนููู ูุดุท ุฃู ูุง
}
```

#### ุงูุนูููุงุช ุงููุฏุนููุฉ:
- โ ุฅุถุงูุฉ ุนููู ุฌุฏูุฏ
- โ ุชุนุฏูู ุจูุงูุงุช ุงูุนููู
- โ ุญุฐู ุนููู (ูุน ุงูุชุญูู ูู ุงูููุงุชูุฑ)
- โ ุนุฑุถ ูุดู ุญุณุงุจ ุงูุนููู
- โ ุชุตููุฉ ุงูุนููุงุก (ูุดุทูู/ุบูุฑ ูุดุทูู/ุจุงูุฌููุฉ/ุงูุฌุฒุฆู)

---

### 2.3 ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช ๐ฆ

#### ุญููู ุงูููุชุฌ:
```dart
ProductModel {
  id: String,              // ูุนุฑู ูุฑูุฏ
  name: String,            // ุงุณู ุงูููุชุฌ
  nameEn: String,          // ุงูุงุณู ุจุงูุฅูุฌููุฒูุฉ
  description: String,     // ุงููุตู
  
  // ุงูุชุตููู
  categoryId: String,      // ูุฑุฌุน ุงูุชุตููู
  categoryName: String,    // ุงุณู ุงูุชุตููู
  brandId: String,         // ูุฑุฌุน ุงููุงุฑูุฉ
  brandName: String,       // ุงุณู ุงููุงุฑูุฉ
  
  // ุงูุฃุณุนุงุฑ
  costPrice: double,       // ุณุนุฑ ุงูุชูููุฉ (USD)
  sellingPrice: double,    // ุณุนุฑ ุงูุจูุน (USD)
  wholesalePrice: double,  // ุณุนุฑ ุงูุฌููุฉ
  
  // ุงููุฎุฒูู
  sizes: List<ProductSizeModel> {
    size: String,          // ุงูููุงุณ (e.g., "42", "43")
    stock: int,            // ุงููููุฉ ุงููุชุงุญุฉ
    minStock: int,         // ุงูุญุฏ ุงูุฃุฏูู ูููุฎุฒูู
  },
  totalStock: int,         // ุฅุฌูุงูู ุงููุฎุฒูู
  
  // ุงูุญุงูุฉ
  isActive: bool,          // ุงูููุชุฌ ูุดุท
  hasLowStock: bool,       // ูู ุงููุฎุฒูู ููุฎูุถ
  hasOutOfStock: bool,     // ูู ููุฏ ุงููุฎุฒูู
}
```

#### ููุงุนุฏ ุฅุฏุงุฑุฉ ุงููุฎุฒูู:
```
- ุชุญุฏูุซ ุงููุฎุฒูู ุชููุงุฆูุงู ุนูุฏ ุฅูุดุงุก ูุงุชูุฑุฉ
- ุชูุจููุงุช ุนูุฏ ุงูุฎูุงุถ ุงููุฎุฒูู ุชุญุช ุงูุญุฏ ุงูุฃุฏูู
- ุชูุงุฑูุฑ ุงููุฎุฒูู ุงูููุฎูุถ
- ููุน ุจูุน ููุชุฌ ููุฏ ุงููุฎุฒูู
```

---

### 2.4 ูุธุงู ุงูุถุฑุงุฆุจ ๐๏ธ

#### ุงูุญุงูุฉ ุงูุญุงููุฉ:
**ูู ูุชู ุชูููุฐ ูุธุงู ุถุฑุงุฆุจ ูุชูุฏู ุจุนุฏ**

#### ุงูุฅููุงููุงุช ุงููุฎุทุท ููุง:
- ุญุณุงุจ ุถุฑูุจุฉ ุงููููุฉ ุงููุถุงูุฉ (VAT)
- ุชุทุจูู ูุนุฏูุงุช ุถุฑูุจุฉ ูุฎุชููุฉ ุญุณุจ ุงูููุชุฌ
- ุชูุงุฑูุฑ ุถุฑูุจูุฉ

---

### 2.5 ูุธุงู ุงูุฎุตููุงุช ๐ท๏ธ

#### ุฃููุงุน ุงูุฎุตููุงุช ุงููุฏุนููุฉ:
```
1. ุฎุตู ูุณุจุฉ ูุฆููุฉ (Percentage Discount)
   ูุซุงู: 10% ุนูู ุงููุงุชูุฑุฉ ุงููุงููุฉ
   
2. ุฎุตู ูููุฉ ุซุงุจุชุฉ (Fixed Amount)
   ูุซุงู: ุฎุตู 50,000 ุฏููุงุฑ
   
3. ุฎุตู ุญุณุจ ูููุฉ (Quantity-based)
   ูุซุงู: ุนูุฏ ุดุฑุงุก ุฃูุซุฑ ูู 10 ูุญุฏุงุช
```

#### ุงูุญุณุงุจุงุช:
```
Base Amount = ฮฃ(Item Totals)
Discount Amount = Base Amount ร (Discount % / 100)
Final Amount = Base Amount - Discount Amount
```

---

### 2.6 ุฅุฏุงุฑุฉ ุงูุนููุงุช ๐ฑ

#### ุงูุนููุงุช ุงููุฏุนููุฉ:
- **USD** (ุฏููุงุฑ ุฃูุฑููู) - ุงูุฃุณุงุณู
- **IQD** (ุฏููุงุฑ ุนุฑุงูู) - ุงูุซุงููู

#### ุณุนุฑ ุงูุตุฑู:
```dart
- ููุญูุธ ููููุงู ูู ุงูุฅุนุฏุงุฏุงุช
- ูุงุจู ููุชุนุฏูู ูุฏููุงู ูู ุดุงุดุฉ ุงูุฅุนุฏุงุฏุงุช
- ููุณุชุฎุฏู ูู ุชุญููู ุงูุฃุณุนุงุฑ ุชููุงุฆูุงู
```

#### ุงูุญุณุงุจุงุช:
```
Price IQD = Price USD ร Exchange Rate
Total IQD = Total USD ร Exchange Rate
```

---

### 2.7 ุทุฑู ุงูุฏูุน ๐ณ

#### ุงููุนูููุงุช ุงููุฎุฒูุฉ:
```dart
PaymentModel {
  id: String,
  invoiceId: String,       // ุงููุงุชูุฑุฉ ุงููุฑุชุจุทุฉ
  amount: double,          // ุงููุจูุบ ุงููุฏููุน
  paymentMethod: String,   // ููุฏ/ุดูู/ุชุญููู/ุจุทุงูุฉ/ุชูุณูุท
  paymentDate: DateTime,   // ุชุงุฑูุฎ ุงูุฏูุน
  notes: String,           // ููุงุญุธุงุช ุฅุถุงููุฉ
}
```

#### ุงูููุฒุงุช:
- โ ุฏุนู ุฏูุนุงุช ูุชุนุฏุฏุฉ ููุงุชูุฑุฉ ูุงุญุฏุฉ
- โ ุชุชุจุน ุชุงุฑูุฎ ุงูุฏูุน ููู ุฏูุนุฉ
- โ ุญุณุงุจ ุงูุฑุตูุฏ ุงููุชุจูู ุชููุงุฆูุงู
- โ ุทุจุงุนุฉ ุฅูุตุงู ุฏูุน

---

### 2.8 ูุธุงู ุงูุชูุงุฑูุฑ ๐

#### ุงูุชูุงุฑูุฑ ุงููุชุงุญุฉ:

**1. ุชูุงุฑูุฑ ุงููุจูุนุงุช:**
```
- ูุจูุนุงุช ุงูููู: ุงูููุงุชูุฑ + ุงูุฅุฌูุงูู
- ูุจูุนุงุช ุงูุฃุณุจูุน: ููุณูุฉ ููููุงู
- ูุจูุนุงุช ุงูุดูุฑ: ููุณูุฉ ุฃุณุจูุนูุงู
- ูุจูุนุงุช ุงูุณูุฉ: ููุณูุฉ ุดูุฑูุงู
```

**2. ุชูุงุฑูุฑ ุงูุนููุงุก:**
```
- ุฃูุซุฑ ุงูุนููุงุก ุดุฑุงุกู
- ุงูุนููุงุก ุจุงูุฏููู
- ุงูููุงุชูุฑ ุงููุนููุฉ
```

**3. ุชูุงุฑูุฑ ุงูููุชุฌุงุช:**
```
- ุงูููุชุฌุงุช ุงูุฃูุซุฑ ูุจูุนุงู
- ุงูููุชุฌุงุช ุงูููุฎูุถุฉ ุงููุฎุฒูู
- ุชูุงุฑูุฑ ุงููุฎุฒูู
```

**4. ุชูุงุฑูุฑ ูุงููุฉ:**
```
- ุฅุฌูุงูู ุงููุจูุนุงุช
- ุฅุฌูุงูู ุงูุฏููู
- ุฅุฌูุงูู ุงููุฏููุนุงุช
```

---

### 2.9 ุงูุทุจุงุนุฉ ู PDF ๐จ๏ธ

#### ุงูููุฒุงุช:
- โ ุทุจุงุนุฉ ุงููุงุชูุฑุฉ ูู PDF
- โ ุฅุถุงูุฉ ุดุนุงุฑ ุงูุดุฑูุฉ
- โ ุดุฑูุท ูุฃุญูุงู ูุฎุตุตุฉ
- โ ูุนูููุงุช ุงูุดุฑูุฉ ูุงููุฉ
- โ QR Code (ูุฎุทุท ูู)
- โ Barcode ููููุชุฌุงุช
- โ ูุดุงุฑูุฉ ุนุจุฑ WhatsApp/Email

#### ุงููุญุชูู ุงููุทุจูุน:
```
ุฑุฃุณ ุงูุตูุญุฉ:
  - ุดุนุงุฑ ุงูุดุฑูุฉ
  - ุงุณู ุงูุดุฑูุฉ + ุงูุนููุงู + ุงููุงุชู
  
ุชูุงุตูู ุงููุงุชูุฑุฉ:
  - ุฑูู ุงููุงุชูุฑุฉ + ุงูุชุงุฑูุฎ
  - ุจูุงูุงุช ุงูุนููู
  
ุงูุฌุฏูู:
  - ุงูููุชุฌ | ุงูููุงุณ | ุงููููุฉ | ุงูุณุนุฑ | ุงูุฅุฌูุงูู
  
ุงูููุฎุต ุงููุงูู:
  - ุงูุฅุฌูุงูู ุงูุฌุฒุฆู
  - ุงูุฎุตู
  - ุงูุฅุฌูุงูู ุงูููุงุฆู (USD ู IQD)
  - ุงููุจูุบ ุงููุฏููุน
  - ุงูุฑุตูุฏ ุงููุชุจูู
  
ุงูุชูููุน ูุงูุดุฑูุท
```

---

### 2.10 ููุฒุงุช ุฃุฎุฑู ๐

#### 1. ูุธุงู ุงููุฒุงููุฉ (Sync System):
```
- ูุฒุงููุฉ ุซูุงุฆูุฉ ุงูุงุชุฌุงู ูุน Firestore
- ุนูู ุจูุง ุฅูุชุฑูุช (Offline-First)
- ุชุฒุงูู ุชููุงุฆู ุนูุฏ ุงูุงุชุตุงู
- ูุนุงูุฌุฉ ุชุถุงุฑุจ ุงูุจูุงูุงุช
```

#### 2. ูุธุงู ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ:
```
- ุชุตุฏูุฑ ุงูุจูุงูุงุช ูู JSON
- ุงุณุชูุฑุงุฏ ุงูุจูุงูุงุช
- ูุณุฎ ุงุญุชูุงุทูุฉ ููููุฉ ุชููุงุฆูุฉ
```

#### 3. ูุธุงู ุงููุตุงุฏูุฉ:
```
- ุชุณุฌูู ุงูุฏุฎูู ุนุจุฑ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- ุงููุตุงุฏูุฉ ุนุจุฑ Firebase Auth
- ููู ุชุนุฑูู ุงููุณุชุฎุฏู
```

#### 4. ุฅุฏุงุฑุฉ ุงูุฅุนุฏุงุฏุงุช:
```
- ุฅุนุฏุงุฏุงุช ุงูุดุฑูุฉ (ุงูุงุณูุ ุงูุดุนุงุฑุ ุงููุงุชู)
- ุณุนุฑ ุงูุตุฑู ุงููููู
- ุจุงุฏุฆุฉ ุฑูู ุงููุงุชูุฑุฉ
- ุงูุดุฑูุท ูุงูุฃุญูุงู
- ูุนูููุงุช ุงูุจูู
```

---

## 3๏ธโฃ ุชุฏูู ุงููุณุชุฎุฏู ุฏุงุฎู ุงูุชุทุจูู (User Flow)

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ           ุจุฏุก ุชุทุจูู ุงููุงุชู                          โ
โโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                 โ
                 โผ
    โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
    โ    ุดุงุดุฉ ุงูุณุจูุงุด             โ
    โ (Splash Screen - 2 ุซุงููุฉ)  โ
    โโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโ
                 โ
        โโโโโโโโโโผโโโโโโโโโโโ
        โ  ูู ูุณุฌู ุฏุฎููุ   โ
        โโโโโโโโโโฌโโโโโโโฌโโโ
           ูุง    โ      โ    ูุนู
                 โ      โ
        โโโโโโโโโโผโโ  โโโผโโโโโโโโโ
        โุดุงุดุฉ ุงูุฏุฎููโ  โุงูุดุงุดุฉ ุงูุฑุฆูุณูุฉโ
        โโโโโโโโโโโโ  โโโโโโโโโโโโ
```

### 3.1 ุดุงุดุฉ ุงูุจุฏุงูุฉ (Splash Screen)
- ุนุฑุถ ุดุนุงุฑ ุงูุชุทุจูู
- ุงูุชุญูู ูู ุญุงูุฉ ุชุณุฌูู ุงูุฏุฎูู
- ุชุญููู ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ
- ุงูุงูุชูุงู ููุดุงุดุฉ ุงูููุงุณุจุฉ

### 3.2 ุดุงุดุฉ ุชุณุฌูู ุงูุฏุฎูู / ุงูุชุฎุทู (Login)
```
ูุฏุฎูุงุช:
  - ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
  - ูููุฉ ุงููุฑูุฑ

ุงูุฎูุงุฑุงุช:
  - โ ุชุณุฌูู ุฏุฎูู (ูุน Firebase)
  - โญ๏ธ ุชุฎุทู (ุนูู ูุญูู ููุท)
  - ๐ฑ ุชุณุฌูู ุญุณุงุจ ุฌุฏูุฏ

ุนูุฏ ุงููุฌุงุญ:
  โ ุงูุงูุชูุงู ููุดุงุดุฉ ุงูุฑุฆูุณูุฉ
  โ ุญูุธ ูุนุฑู ุงููุณุชุฎุฏู
  โ ุชูุนูู ุงููุฒุงููุฉ ูุน Firestore
```

### 3.3 ุงูุดุงุดุฉ ุงูุฑุฆูุณูุฉ (Home Screen)
```
ุงููุญุชูู:
โโโ ุฅุญุตุงุฆูุงุช ุงูููู
โ   โโโ ุนุฏุฏ ุงูููุงุชูุฑ
โ   โโโ ุฅุฌูุงูู ุงููุจูุนุงุช
โ   โโโ ุนุฏุฏ ุงูุนููุงุก ุงูุฌุฏุฏ
โ
โโโ ุงูุฎูุงุฑุงุช ุงูุฑุฆูุณูุฉ (ูุงุฆูุฉ ุณูููุฉ)
โ   โโโ ๐ ุงูุฑุฆูุณูุฉ
โ   โโโ ๐ ุงูููุงุชูุฑ
โ   โโโ ๐ฆ ุงูููุชุฌุงุช
โ   โโโ ๐ฅ ุงูุนููุงุก
โ   โโโ โ๏ธ ุงูุฅุนุฏุงุฏุงุช
โ
โโโ ุฒุฑ ุนุงุฆู (FAB)
    โโโ โ ูุงุชูุฑุฉ ุฌุฏูุฏุฉ
```

### 3.4 ุฅูุดุงุก ูุงุชูุฑุฉ (Create Invoice Flow)
```
ุงูุฎุทูุฉ 1: ุงุฎุชูุงุฑ ุงูุนููู
  - ุงุฎุชูุงุฑ ูู ูุงุฆูุฉ ููุฌูุฏุฉ
  - ุฅุฏุฎุงู ุจูุงูุงุช ุนููู ุฌุฏูุฏ ุจุดูู ุณุฑูุน
  - ุฅุฏุฎุงู ุจูุงูุงุช ุนููู ูุคูุช (ุจุฏูู ุญูุธ)

ุงูุฎุทูุฉ 2: ุฅุถุงูุฉ ุงูููุชุฌุงุช
  - ุงูุจุญุซ ุนู ุงูููุชุฌ
  - ุชุญุฏูุฏ ุงูููุงุณ ูุงููููุฉ
  - ุชุญุฏูุฏ ุงูุณุนุฑ (ุงูุชุฑุงุถู ุฃู ูุฎุตุต)
  - ุฅุถุงูุฉ / ุญุฐู / ุชุนุฏูู ุงูุนูุงุตุฑ

ุงูุฎุทูุฉ 3: ุญุณุงุจ ุงููุงุชูุฑุฉ
  - ุนุฑุถ ุงูุฅุฌูุงูู ุงูุฌุฒุฆู
  - ุฅุฏุฎุงู ูุณุจุฉ ุงูุฎุตู
  - ุญุณุงุจ ุงูุฎุตู ุงูุชููุงุฆู
  - ุนุฑุถ ุงูุฅุฌูุงูู ุงูููุงุฆู

ุงูุฎุทูุฉ 4: ุทุฑููุฉ ุงูุฏูุน
  - ุงุฎุชูุงุฑ ุทุฑููุฉ ุงูุฏูุน
  - ุฅุฏุฎุงู ุงููุจูุบ ุงููุฏููุน
  - ุญุณุงุจ ุงูุฑุตูุฏ ุงููุชุจูู

ุงูุฎุทูุฉ 5: ุญูุธ ุงููุงุชูุฑุฉ
  - ุฎูุงุฑ ุงูุญูุธ ููุณูุฏุฉ (Draft)
  - ุฎูุงุฑ ุงูุชุฃููุฏ (Confirmed)
  - ุทุจุงุนุฉ/ูุดุงุฑูุฉ
  - ุฅุฑุณุงู ุฅูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
  - ูุดุงุฑูุฉ ุนุจุฑ WhatsApp
```

### 3.5 ุฅุฏุงุฑุฉ ุงูููุงุชูุฑ (Invoices List)
```
ุงูุนุฑุถ:
  - ููุงุชูุฑ ูุฑุชุจุฉ ุญุณุจ ุงูุชุงุฑูุฎ (ุงูุฃุญุฏุซ ุฃููุงู)
  - ุจุทุงูุฉ ููู ูุงุชูุฑุฉ ุชูุถุญ:
    โโโ ุฑูู ุงููุงุชูุฑุฉ
    โโโ ุงุณู ุงูุนููู
    โโโ ุงูุชุงุฑูุฎ
    โโโ ุงูุฅุฌูุงูู (USD ู IQD)
    โโโ ุญุงูุฉ ุงููุงุชูุฑุฉ
    โโโ ุญุงูุฉ ุงูุฏูุน

ุงูุฅุฌุฑุงุกุงุช:
  - โ๏ธ ุชุนุฏูู ุงููุงุชูุฑุฉ
  - ๐๏ธ ุนุฑุถ ุงูุชูุงุตูู
  - ๐จ๏ธ ุทุจุงุนุฉ PDF
  - ๐ค ูุดุงุฑูุฉ
  - ๐๏ธ ุญุฐู
  - โธ๏ธ ุฅูุบุงุก ุงููุงุชูุฑุฉ

ุงูููุงุชุฑ:
  - ุงูุจุญุซ ุจุญุณุจ ุฑูู ุงููุงุชูุฑุฉ
  - ุงูุจุญุซ ุจุญุณุจ ุงุณู ุงูุนููู
  - ุชุตููุฉ ุญุณุจ ุงูุญุงูุฉ (Draft/Confirmed/Cancelled)
  - ุชุตููุฉ ุญุณุจ ุญุงูุฉ ุงูุฏูุน (Paid/Partial/Unpaid)
  - ูุทุงู ุงูุชุงุฑูุฎ
```

### 3.6 ุนุฑุถ ุชูุงุตูู ุงููุงุชูุฑุฉ (Invoice Details)
```
ุงููุญุชูู:
  โโโ ูุนูููุงุช ุงููุงุชูุฑุฉ
  โ   โโโ ุงูุฑูู ูุงูุชุงุฑูุฎ
  โ   โโโ ุญุงูุฉ ุงููุงุชูุฑุฉ
  โ   โโโ ุงูููุงุญุธุงุช
  โ
  โโโ ูุนูููุงุช ุงูุนููู
  โ   โโโ ุงูุงุณู ูุงููุงุชู
  โ   โโโ ุงูุนููุงู
  โ   โโโ ุงูุฑุตูุฏ ุงูุณุงุจู
  โ
  โโโ ุฌุฏูู ุงูููุชุฌุงุช
  โ   โโโ ููุชุฌ | ููุงุณ | ูููุฉ | ุณุนุฑ | ุฅุฌูุงูู
  โ
  โโโ ุงูููุฎุต ุงููุงูู
  โ   โโโ ุงูุฅุฌูุงูู ุงูุฌุฒุฆู
  โ   โโโ ุงูุฎุตู
  โ   โโโ ุงูุฅุฌูุงูู (USD ู IQD)
  โ   โโโ ุงููุจูุบ ุงููุฏููุน
  โ   โโโ ุงูุฑุตูุฏ ุงููุชุจูู
  โ
  โโโ ุณุฌู ุงูุฏูุนุงุช
  โ   โโโ ุชุงุฑูุฎ | ุงููุจูุบ | ุงูุทุฑููุฉ
  โ
  โโโ ุงูุฅุฌุฑุงุกุงุช
      โโโ โ๏ธ ุชุนุฏูู
      โโโ ๐จ๏ธ ุทุจุงุนุฉ
      โโโ ๐ค ูุดุงุฑูุฉ
      โโโ โ ุฏูุนุฉ ุฌุฏูุฏุฉ
      โโโ ๐๏ธ ุญุฐู
```

### 3.7 ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช (Products)
```
ุงูุนุฑุถ:
  - ูุงุฆูุฉ ุงูููุชุฌุงุช ูุน:
    โโโ ุตูุฑุฉ ุงูููุชุฌ
    โโโ ุงูุงุณู ูุงููุงุฑูุฉ
    โโโ ุณุนุฑ ุงูุจูุน
    โโโ ุญุงูุฉ ุงููุฎุฒูู
    โโโ ุงูุชุตููู

ุงูุฅุฌุฑุงุกุงุช:
  - โ ููุชุฌ ุฌุฏูุฏ
  - โ๏ธ ุชุนุฏูู
  - ๐๏ธ ุนุฑุถ ุงูุชูุงุตูู
  - ๐๏ธ ุญุฐู
  - ๐ ุชูุฑูุฑ ุงููุฎุฒูู

ุงูููุงุชุฑ:
  - ุงูุจุญุซ ุจุงูุงุณู
  - ุงูุชุตููุฉ ุญุณุจ ุงูุชุตููู
  - ุงูุชุตููุฉ ุญุณุจ ุงููุงุฑูุฉ
  - ุนุฑุถ ุงููุฎุฒูู ุงูููุฎูุถ ููุท
  - ุนุฑุถ ุงูููุชุฌุงุช ุงููุดุทุฉ ููุท
```

### 3.8 ุฅุฏุงุฑุฉ ุงูุนููุงุก (Customers)
```
ุงูุนุฑุถ:
  - ูุงุฆูุฉ ุงูุนููุงุก ูุน:
    โโโ ุงูุงุณู ูุงููุงุชู
    โโโ ุงูููุน (ุฌููุฉ/ุชุฌุฒุฆุฉ)
    โโโ ุงูุฑุตูุฏ (ุฏููู/ุฏุงุฆู)
    โโโ ุขุฎุฑ ุนูููุฉ ุดุฑุงุก
    โโโ ุงูุชูููู

ุงูุฅุฌุฑุงุกุงุช:
  - โ ุนููู ุฌุฏูุฏ
  - โ๏ธ ุชุนุฏูู
  - ๐๏ธ ุนุฑุถ ุงููุดู ุงูุญุณุงุจ
  - ๐ ุงุชุตุงู ูุจุงุดุฑ
  - ๐๏ธ ุญุฐู

ุงูููุงุชุฑ:
  - ุงูุจุญุซ ุจุงูุงุณู
  - ุงูุชุตููุฉ ุญุณุจ ุงูููุน
  - ุนุฑุถ ุงููุฏูููู ููุท
  - ุนุฑุถ ุงูุนููุงุก ุงููุดุทูู ููุท
```

### 3.9 ุงูุฅุนุฏุงุฏุงุช (Settings)
```
ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ:
โโโ โ๏ธ ุฅุนุฏุงุฏุงุช ุงูุดุฑูุฉ
โ   โโโ ุงุณู ุงูุดุฑูุฉ
โ   โโโ ุงูุดุนุงุฑ
โ   โโโ ุงููุงุชู ูุงูุนููุงู
โ   โโโ ุฑุงุจุท ุงููููุน
โ   โโโ ุงูุดุฑูุท ูุงูุฃุญูุงู
โ   โโโ ููุงุญุธุงุช ุงููุงุชูุฑุฉ
โ
โโโ ๐ฑ ุณุนุฑ ุงูุตุฑู
โ   โโโ ุณุนุฑ USD ููุงุจู IQD
โ   โโโ ุชุญุฏูุซ ูุฏูู
โ
โโโ ๐ ุงูุญุณุงุจุงุช
โ   โโโ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
โ   โโโ ุงุณู ุงููุณุชุฎุฏู
โ   โโโ ุชุณุฌูู ุงูุฎุฑูุฌ
โ
โโโ ๐ ุฅุฏุงุฑุฉ ุงูุจูุงูุงุช
โ   โโโ ุชุตุฏูุฑ (Backup)
โ   โโโ ุงุณุชูุฑุงุฏ (Restore)
โ   โโโ ุญุฐู ูู ุงูุจูุงูุงุช
โ
โโโ ๐ท๏ธ ุงูุชุตูููุงุช
โ   โโโ ุฅุถุงูุฉ/ุชุนุฏูู/ุญุฐู ุชุตูููุงุช
โ
โโโ ๐ข ุงููุงุฑูุงุช
โ   โโโ ุฅุถุงูุฉ/ุชุนุฏูู/ุญุฐู ูุงุฑูุงุช
โ
โโโ โน๏ธ ูุนูููุงุช
    โโโ ุฅุตุฏุงุฑ ุงูุชุทุจูู
    โโโ ุญููู ุงูููููุฉ
```

---

## 4๏ธโฃ ุจููุฉ ุงููุดุฑูุน ุงููุนูุงุฑูุฉ (Architecture)

### 4.1 ุงููุนูุงุฑูุฉ ุงููุณุชุฎุฏูุฉ:
**Clean Architecture + Riverpod State Management**

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ              PRESENTATION LAYER                       โ
โ  (Screens, Widgets, UI Logic using Riverpod)        โ
โโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                     โ
โโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ           DOMAIN LAYER (Business Logic)               โ
โ  (Use Cases, Entities, Repository Abstractions)      โ
โโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                     โ
โโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ            DATA LAYER (Data Access)                   โ
โ  (Repositories, Models, Hive, Firestore)            โ
โโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                     โ
โโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ         CORE LAYER (Utilities & Services)             โ
โ  (Firebase, Logger, PDF, Sync, Auth)                โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### 4.2 ุงูุทุจูุงุช ุงููุงุถุญุฉ:

#### ุฃ) **Presentation Layer** ๐ฑ
```
lib/presentation/
โโโ screens/
โ   โโโ auth/          โ ุดุงุดุงุช ุงููุตุงุฏูุฉ
โ   โโโ home/          โ ุงูุดุงุดุฉ ุงูุฑุฆูุณูุฉ
โ   โโโ invoices/      โ ุฅุฏุงุฑุฉ ุงูููุงุชูุฑ
โ   โโโ products/      โ ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช
โ   โโโ customers/     โ ุฅุฏุงุฑุฉ ุงูุนููุงุก
โ   โโโ categories/    โ ุฅุฏุงุฑุฉ ุงูุชุตูููุงุช
โ   โโโ brands/        โ ุฅุฏุงุฑุฉ ุงููุงุฑูุงุช
โ   โโโ settings/      โ ุงูุฅุนุฏุงุฏุงุช
โ   โโโ providers/     โ Riverpod Providers
โ   โโโ splash/        โ ุดุงุดุฉ ุงูุณุจูุงุด
โโโ widgets/           โ ููููุงุช ูุดุชุฑูุฉ
```

#### ุจ) **Data Layer** ๐พ
```
lib/data/
โโโ models/            โ ููุงุฐุฌ ุงูุจูุงูุงุช (Hive Objects)
โ   โโโ invoice_model.dart
โ   โโโ product_model.dart
โ   โโโ customer_model.dart
โ   โโโ company_model.dart
โ   โโโ category_model.dart
โ   โโโ brand_model.dart
โ   โโโ payment_model.dart
โ   โโโ ...
โ
โโโ repositories/      โ ุชูููุฐ ุงูู Repositories
    โโโ invoice_repository_new.dart
    โโโ product_repository_new.dart
    โโโ customer_repository_new.dart
    โโโ category_brand_repository_new.dart
    โโโ settings_repository_new.dart
    โโโ ...
```

#### ุฌ) **Core Layer** ๐ง
```
lib/core/
โโโ services/          โ ุฎุฏูุงุช ุงููุธุงู ุงูุฃุณุงุณูุฉ
โ   โโโ firestore_service.dart    โ Firestore ู Offline
โ   โโโ auth_service.dart         โ ุงููุตุงุฏูุฉ
โ   โโโ sync_service.dart         โ ุงููุฒุงููุฉ
โ   โโโ pdf_service.dart          โ ุทุจุงุนุฉ PDF
โ   โโโ backup_service.dart       โ ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ
โ   โโโ logger_service.dart       โ ุงูุชุณุฌูู
โ
โโโ constants/         โ ุงูุซูุงุจุช
โ   โโโ app_colors.dart
โ   โโโ app_spacing.dart
โ   โโโ app_typography.dart
โ   โโโ ...
โ
โโโ theme/             โ ูุธูุฑ ุงูุชุทุจูู
โ   โโโ app_theme.dart
โ   โโโ widgets/
โ   โโโ ...
โ
โโโ utils/             โ ุฃุฏูุงุช ูุณุงุนุฏุฉ
    โโโ currency_formatter.dart
    โโโ date_formatter.dart
    โโโ page_transitions.dart
    โโโ ...
```

#### ุฏ) **App Layer** ๐ฏ
```
lib/app/
โโโ app.dart           โ ุชูููู ุงูุชุทุจูู ุงูุฑุฆูุณู
โโโ routes.dart        โ ุงูุชูุฌูู ูุงูููุงุญุฉ
```

### 4.3 ุงููุตู ุจูู ุงููุณุคูููุงุช:

| ุงูุทุจูุฉ | ุงููุณุคูููุฉ | ุงูุฃูุซูุฉ |
|--------|---------|--------|
| **Presentation** | ุนุฑุถ ุงูุจูุงูุงุช ูุงูุชูุงุนู ูุน ุงููุณุชุฎุฏู | Screen, Button, Form |
| **Domain** | ููุทู ุงูุฃุนูุงู ุงููุฑูุฒู | ุงุญุณุจ ุงูุถุฑูุจุฉุ ุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช |
| **Data** | ุงููุตูู ููุจูุงูุงุช | Hiveุ Firestore |
| **Core** | ุงูุฎุฏูุงุช ุงููุดุชุฑูุฉ | Firebaseุ Loggerุ PDF |

### 4.4 ูุฒุงูุง ุงููุนูุงุฑูุฉ ุงูุญุงููุฉ:
โ ูุตู ูุงุถุญ ุจูู ุงูุทุจูุงุช  
โ ุณูููุฉ ุงูุงุฎุชุจุงุฑ (Testing)  
โ ูุงุจููุฉ ุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู  
โ ุณูููุฉ ุงูุตูุงูุฉ ูุงูุชุทููุฑ  
โ ูุนุฒููุฉ ุนู ุงูุชุบููุฑุงุช ุงูุฎุงุฑุฌูุฉ  

---

## 5๏ธโฃ ููููุฉ ุงููุฌูุฏุงุช ุงููุงููุฉ (Folder Structure)

```
invoice_app/
โ
โโโ ๐ assets/                          # ุงูููุงุฑุฏ ุงูุซุงุจุชุฉ
โ   โโโ fonts/                          # ุงูุฎุทูุท
โ   โ   โโโ IBMPlexSansArabic-*.ttf    # ุฎุท ุนุฑุจู
โ   โ   โโโ IBMPlexMono-*.ttf          # ุฎุท ุฃุญุงุฏู
โ   โ   โโโ Cairo-*.ttf                 # ุฎุท ูุงูุฑู
โ   โโโ images/                         # ุงูุตูุฑ
โ       โโโ logo.png                    # ุดุนุงุฑ ุงูุชุทุจูู
โ       โโโ ...
โ
โโโ ๐ lib/                             # ุงูููุฏ ุงูุฑุฆูุณู
โ   โโโ ๐ presentation/
โ   โ   โโโ ๐ screens/
โ   โ   โ   โโโ ๐ auth/                # ุชุณุฌูู ุงูุฏุฎูู ูุงูุชุณุฌูู
โ   โ   โ   โ   โโโ email_auth_screen.dart
โ   โ   โ   โโโ ๐ home/                # ุงูุดุงุดุฉ ุงูุฑุฆูุณูุฉ
โ   โ   โ   โ   โโโ home_screen.dart
โ   โ   โ   โโโ ๐ invoices/            # ุฅุฏุงุฑุฉ ุงูููุงุชูุฑ
โ   โ   โ   โ   โโโ create_invoice_screen.dart
โ   โ   โ   โ   โโโ invoices_list_screen.dart
โ   โ   โ   โ   โโโ invoice_details_screen.dart
โ   โ   โ   โ   โโโ invoice_preview_screen.dart
โ   โ   โ   โโโ ๐ products/            # ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช
โ   โ   โ   โ   โโโ products_list_screen.dart
โ   โ   โ   โ   โโโ add_product_screen.dart
โ   โ   โ   โโโ ๐ customers/           # ุฅุฏุงุฑุฉ ุงูุนููุงุก
โ   โ   โ   โ   โโโ customers_screen.dart
โ   โ   โ   โโโ ๐ categories/          # ุฅุฏุงุฑุฉ ุงูุชุตูููุงุช
โ   โ   โ   โ   โโโ categories_screen.dart
โ   โ   โ   โโโ ๐ brands/              # ุฅุฏุงุฑุฉ ุงููุงุฑูุงุช
โ   โ   โ   โ   โโโ brands_screen.dart
โ   โ   โ   โโโ ๐ settings/            # ุงูุฅุนุฏุงุฏุงุช
โ   โ   โ   โ   โโโ settings_screen.dart
โ   โ   โ   โ   โโโ exchange_rate_screen.dart
โ   โ   โ   โ   โโโ company_settings_screen.dart
โ   โ   โ   โ   โโโ account_settings_screen.dart
โ   โ   โ   โโโ ๐ providers/           # Riverpod Providers
โ   โ   โ   โ   โโโ providers.dart      # Providers ุงูุฑุฆูุณูุฉ
โ   โ   โ   โ   โโโ customer_providers.dart
โ   โ   โ   โ   โโโ company_provider.dart
โ   โ   โ   โโโ ๐ splash/              # ุดุงุดุฉ ุงูุจุฏุงูุฉ
โ   โ   โ       โโโ splash_screen.dart
โ   โ   โโโ widgets/                    # ููููุงุช ูุดุชุฑูุฉ
โ   โ       โโโ custom_app_bar.dart
โ   โ
โ   โโโ ๐ data/
โ   โ   โโโ ๐ models/                  # ููุงุฐุฌ ุงูุจูุงูุงุช
โ   โ   โ   โโโ invoice_model.dart      # ูููุฐุฌ ุงููุงุชูุฑุฉ
โ   โ   โ   โโโ invoice_model.g.dart    # (Generated)
โ   โ   โ   โโโ product_model.dart      # ูููุฐุฌ ุงูููุชุฌ
โ   โ   โ   โโโ customer_model.dart     # ูููุฐุฌ ุงูุนููู
โ   โ   โ   โโโ company_model.dart      # ูููุฐุฌ ุงูุดุฑูุฉ
โ   โ   โ   โโโ company_model.g.dart    # (Generated)
โ   โ   โ   โโโ category_model.dart     # ูููุฐุฌ ุงูุชุตููู
โ   โ   โ   โโโ brand_model.dart        # ูููุฐุฌ ุงููุงุฑูุฉ
โ   โ   โ   โโโ payment_model.dart      # ูููุฐุฌ ุงูุฏูุน
โ   โ   โ   โโโ sync_metadata.dart      # ุจูุงูุงุช ุงููุฒุงููุฉ
โ   โ   โ   โโโ settings_model.dart     # ูููุฐุฌ ุงูุฅุนุฏุงุฏุงุช
โ   โ   โ   โโโ statistics_model.dart   # ูููุฐุฌ ุงูุฅุญุตุงุฆูุงุช
โ   โ   โ   โโโ hive_adapters.dart      # ูุญููุงุช Hive
โ   โ   โ   โโโ models.dart             # ููู ุงูุชุฌููุน
โ   โ   โ
โ   โ   โโโ ๐ repositories/            # ุชูููุฐ Repositories
โ   โ       โโโ invoice_repository_new.dart
โ   โ       โโโ product_repository_new.dart
โ   โ       โโโ customer_repository_new.dart
โ   โ       โโโ category_brand_repository_new.dart
โ   โ       โโโ settings_repository_new.dart
โ   โ       โโโ statistics_repository.dart
โ   โ       โโโ repositories.dart        # ููู ุงูุชุฌููุน
โ   โ       โโโ [*_repository.dart]     # ูููุงุช ูุฏููุฉ (ูุณุชุฎุฏูุฉ)
โ   โ
โ   โโโ ๐ core/
โ   โ   โโโ ๐ services/                # ุงูุฎุฏูุงุช ุงูุฃุณุงุณูุฉ
โ   โ   โ   โโโ firestore_service.dart  # Firestore + Offline
โ   โ   โ   โโโ auth_service.dart       # ุงููุตุงุฏูุฉ
โ   โ   โ   โโโ sync_service.dart       # ุงููุฒุงููุฉ
โ   โ   โ   โโโ realtime_sync_service.dart
โ   โ   โ   โโโ initial_sync_service.dart
โ   โ   โ   โโโ customer_sync_service.dart
โ   โ   โ   โโโ pdf_service.dart        # ุทุจุงุนุฉ PDF
โ   โ   โ   โโโ backup_service.dart     # ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ
โ   โ   โ   โโโ logger_service.dart     # ุงูุชุณุฌูู
โ   โ   โ   โโโ invoice_migration.dart  # ูุฌุฑุฉ ุงูุจูุงูุงุช
โ   โ   โ   โโโ services.dart           # ููู ุงูุชุฌููุน
โ   โ   โ
โ   โ   โโโ ๐ constants/               # ุงูุซูุงุจุช
โ   โ   โ   โโโ app_colors.dart         # ุงูุฃููุงู
โ   โ   โ   โโโ app_spacing.dart        # ุงููุณุงุญุงุช
โ   โ   โ   โโโ app_typography.dart     # ุฃููุงุท ุงููุต
โ   โ   โ
โ   โ   โโโ ๐ theme/                   # ุงููุธูุฑ
โ   โ   โ   โโโ app_theme.dart          # ุฅุนุฏุงุฏุงุช ุงููุธูุฑ
โ   โ   โ   โโโ widgets/
โ   โ   โ       โโโ custom_app_bar.dart
โ   โ   โ
โ   โ   โโโ ๐ errors/                  # ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
โ   โ   โ   โโโ exceptions.dart
โ   โ   โ
โ   โ   โโโ ๐ utils/                   # ุฃุฏูุงุช ูุณุงุนุฏุฉ
โ   โ       โโโ currency_formatter.dart
โ   โ       โโโ date_formatter.dart
โ   โ       โโโ page_transitions.dart
โ   โ       โโโ whatsapp_helper.dart
โ   โ       โโโ ...
โ   โ
โ   โโโ ๐ app/
โ   โ   โโโ app.dart                    # ุชูููู ุงูุชุทุจูู
โ   โ   โโโ routes.dart                 # ุงูุชูุฌูู
โ   โ
โ   โโโ main.dart                       # ููุทุฉ ุงูุฏุฎูู
โ   โโโ firebase_options.dart           # ุฎูุงุฑุงุช Firebase
โ
โโโ ๐ android/                          # ููุฏ Android
โ   โโโ app/src/
โ   โโโ google-services.json             # Firebase Config
โ
โโโ ๐ ios/                              # ููุฏ iOS
โ   โโโ Runner/
โ
โโโ ๐ web/                              # ููุฏ Web
โ   โโโ index.html
โ
โโโ ๐ windows/                          # ููุฏ Windows
โโโ ๐ linux/                            # ููุฏ Linux
โโโ ๐ macos/                            # ููุฏ macOS
โ
โโโ ๐ build/                            # Build Output (ุชูุชุฌุงูู)
โ
โโโ ๐ pubspec.yaml                      # ุงูุญุฒู ูุงูุฅุนุฏุงุฏุงุช
โโโ ๐ pubspec.lock                      # ููู ุงูุญุฒู
โโโ ๐ analysis_options.yaml              # ุชุญููู ุงูููุฏ
โโโ ๐ firebase.json                     # ุฅุนุฏุงุฏุงุช Firebase
โโโ ๐ firestore.indexes.json            # Firestore Indexes
โโโ ๐ firestore.rules                   # ููุงุนุฏ ุงูุฃูุงู
โ
โโโ ๐ README.md                         # ุงูุชูุซูู
```

---

## 6๏ธโฃ ุฅุฏุงุฑุฉ ุงูุญุงูุฉ (State Management)

### 6.1 ุงูุฃุฏุงุฉ ุงููุณุชุฎุฏูุฉ:
**Flutter Riverpod** (ุงูุฅุตุฏุงุฑ 2.4.10)

```dart
// ูุซุงู ุนูู Provider:
final invoicesProvider = FutureProvider<List<InvoiceModel>>((ref) async {
  final repository = ref.watch(invoiceRepositoryProvider);
  return repository.getInvoices();
});
```

### 6.2 ุฅุฏุงุฑุฉ ุงูุญุงูุงุช ุงูุฑุฆูุณูุฉ:

#### ุฃ) **ุฅุฏุงุฑุฉ ุงูููุงุชูุฑ:**
```dart
// Notifier Pattern
final invoicesNotifierProvider = 
  StateNotifierProvider<InvoicesNotifier, AsyncValue<List<InvoiceModel>>>((ref) {
    final repository = ref.watch(invoiceRepositoryProvider);
    return InvoicesNotifier(repository);
  });

class InvoicesNotifier extends StateNotifier<AsyncValue<List<InvoiceModel>>> {
  Future<void> addInvoice(InvoiceModel invoice) async { }
  Future<void> updateInvoice(InvoiceModel invoice) async { }
  Future<void> deleteInvoice(String id) async { }
  Future<void> fetchInvoices() async { }
}
```

#### ุจ) **ุฅุฏุงุฑุฉ ุงูุนููุงุก:**
```dart
final customersNotifierProvider = 
  StateNotifierProvider<CustomersNotifier, AsyncValue<List<CustomerModel>>>(...);
```

#### ุฌ) **ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช:**
```dart
final productsNotifierProvider = 
  StateNotifierProvider<ProductsNotifier, AsyncValue<List<ProductModel>>>(...);
```

#### ุฏ) **ุฅุฏุงุฑุฉ ุงูุฅุนุฏุงุฏุงุช:**
```dart
final companyProvider = FutureProvider<CompanyModel>((ref) async {
  final repository = ref.watch(settingsRepositoryProvider);
  return repository.getCompanySettings();
});

final exchangeRateProvider = StateProvider<double>((ref) => 1300.0);
```

### 6.3 ุงูู Providers ุงููุชูุฏูุฉ:

#### 1. **ุฅุญุตุงุฆูุงุช ุงูููู:**
```dart
final todayStatsProvider = FutureProvider<Map<String, dynamic>>((ref) async {
  final invoices = await ref.watch(invoicesNotifierProvider.future);
  // ุญุณุงุจ ุงูุฅุญุตุงุฆูุงุช
  return {
    'count': invoices.length,
    'totalUSD': invoices.fold(0, (sum, inv) => sum + inv.totalUSD),
  };
});
```

#### 2. **ุงูุจุญุซ ูุงูุชุตููุฉ:**
```dart
final searchQueryProvider = StateProvider<String>((ref) => '');

final filteredInvoicesProvider = Provider<List<InvoiceModel>>((ref) {
  final invoices = ref.watch(invoicesNotifierProvider);
  final query = ref.watch(searchQueryProvider);
  
  return invoices.when(
    data: (data) => data.where((inv) => 
      inv.invoiceNumber.contains(query) ||
      inv.customerName.contains(query)
    ).toList(),
    loading: () => [],
    error: (_, __) => [],
  );
});
```

### 6.4 ูููุฒุงุช Riverpod ุงููุณุชุฎุฏูุฉ:

| ุงูููุฒุฉ | ุงูุงุณุชุฎุฏุงู | ุงููุงุฆุฏุฉ |
|--------|---------|--------|
| **FutureProvider** | ุฌูุจ ุงูุจูุงูุงุช ุงูุบูุฑ ูุชุฒุงููุฉ | ูุนุงูุฌุฉ Loading/Error ุชููุงุฆูุงู |
| **StateProvider** | ุฅุฏุงุฑุฉ ุงูุญุงูุงุช ุงูุจุณูุทุฉ | ุชุญุฏูุซ ุจุณูุท ูุณุฑูุน |
| **StateNotifierProvider** | ุฅุฏุงุฑุฉ ุงูุญุงูุงุช ุงููุนูุฏุฉ | ููุทู ูุนูุฏ ูุน ุนุฏุฉ ุนูููุงุช |
| **StreamProvider** | ุงูุจูุงูุงุช ุงููุณุชูุฑุฉ | ูุฒุงููุฉ ุญููููุฉ ุงูููุช |
| **Provider** | ุงูุญุณุงุจุงุช ุงููุดุชูุฉ | ูุชุงุฆุฌ ูุดุชูุฉ ูู providers ุฃุฎุฑู |

### 6.5 ูู ุชูุฌุฏ ูุดุงูู ุญุงููุฉุ

โ๏ธ **ุจุนุถ ุงููุดุงูู ุงูุจุณูุทุฉ:**
```
1. ุนุฏู ุงุณุชุฎุฏุงู Riverpod Generator ุจุดูู ูุงูู
   - ุงูุญู: ุงุณุชุฎุฏุงู @riverpod annotation
   
2. ุฅุนุงุฏุฉ ุญุณุงุจ ุบูุฑ ุถุฑูุฑูุฉ ูู ุจุนุถ ุงูุญุงูุงุช
   - ุงูุญู: ุงุณุชุฎุฏุงู select() ููุชุตููุฉ ุงูุฏูููุฉ
   
3. ุนุฏู ูุฌูุฏ Error Handling ููุญุฏ
   - ุงูุญู: ุฅูุดุงุก ูุดุฑูุน ูุดุชุฑู ููุฃุฎุทุงุก
```

---

## 7๏ธโฃ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุงูุชุฎุฒูู (Database)

### 7.1 ุฃููุงุน ุงูุชุฎุฒูู ุงููุณุชุฎุฏูุฉ:

#### ุฃ) **Hive (Local Storage)** ๐ฆ
```dart
// ุชุฎุฒูู ูุญูู ุณุฑูุน ูููุดูุฑ
Box<InvoiceModel> invoicesBox = Hive.box('invoices');
Box<CustomerModel> customersBox = Hive.box('customers');
Box<ProductModel> productsBox = Hive.box('products');
Box<CategoryModel> categoriesBox = Hive.box('categories');
Box<BrandModel> brandsBox = Hive.box('brands');
Box settingsBox = Hive.box('settings');
```

#### ุจ) **Firestore (Cloud Database)** โ๏ธ
```
ุงูุชุฎุฒูู ุงูุณุญุงุจู ูููุฒุงููุฉ ูุงููุณุฎ ุงูุงุญุชูุงุทูุฉ
- ููุณุชุฎุฏู ุนูุฏ ุงูุงุชุตุงู ุจุงูุฅูุชุฑูุช
- ูุฒุงููุฉ ุซูุงุฆูุฉ ุงูุงุชุฌุงู
```

#### ุฌ) **Local JSON** ๐
```
ุงุณุชุฎุฏุงู ุจุณูุท:
- ุชุตุฏูุฑ ุงูุจูุงูุงุช ูููุณุฎ ุงูุงุญุชูุงุทูุฉ
- ุงุณุชูุฑุงุฏ ุงูุจูุงูุงุช
```

### 7.2 ูุฎุทุท ุงูุฌุฏุงูู/ุงูููุงูุงุช (Schema):

#### **Invoice ุฌุฏูู ุงูููุงุชูุฑ:**
```dart
@HiveType(typeId: 1)
class InvoiceModel {
  @HiveField(0) String id;                   // UUID
  @HiveField(1) String invoiceNumber;        // INV-001
  @HiveField(2) String customerName;         // ุงุณู ุงูุนููู
  @HiveField(3) String? customerPhone;       // ุงููุงุชู
  @HiveField(4) DateTime date;               // ุงูุชุงุฑูุฎ
  @HiveField(5) List<InvoiceItemModel> items;// ุงูุจููุฏ
  @HiveField(6) double subtotal;             // ุงูุฅุฌูุงูู ุงูุฌุฒุฆู
  @HiveField(7) double discount;             // ูุณุจุฉ ุงูุฎุตู
  @HiveField(8) double totalUSD;             // ุงูุฅุฌูุงูู ุจุงูุฏููุงุฑ
  @HiveField(9) double exchangeRate;         // ุณุนุฑ ุงูุตุฑู
  @HiveField(10) double totalIQD;            // ุงูุฅุฌูุงูู ุจุงูุฏููุงุฑ
  @HiveField(11) String status;              // draft|confirmed|cancelled
  @HiveField(12) String? notes;              // ููุงุญุธุงุช
  @HiveField(13) DateTime? createdAt;        // ุชุงุฑูุฎ ุงูุฅูุดุงุก
  @HiveField(14) DateTime? updatedAt;        // ุขุฎุฑ ุชุญุฏูุซ
  @HiveField(18) double paidAmount;          // ุงููุจูุบ ุงููุฏููุน
  @HiveField(19) String? customerId;         // ูุฑุฌุน ุงูุนููู
  @HiveField(20) double discountAmount;      // ูููุฉ ุงูุฎุตู
  @HiveField(21) double remainingAmount;     // ุงูุฑุตูุฏ ุงููุชุจูู
  @HiveField(22) String paymentStatus;       // paid|partial|unpaid
  @HiveField(23) List<PaymentModel> payments;// ุณุฌู ุงูุฏูุนุงุช
  @HiveField(24) DateTime? invoiceDate;      // ุชุงุฑูุฎ ุงููุงุชูุฑุฉ
  @HiveField(25) DateTime? dueDate;          // ุชุงุฑูุฎ ุงูุงุณุชุญูุงู
  @HiveField(29) String? customerAddress;    // ุนููุงู ุงูุนููู
}
```

#### **Product ุฌุฏูู ุงูููุชุฌุงุช:**
```dart
@HiveType(typeId: 0)
class ProductModel {
  @HiveField(0) String id;                   // UUID
  @HiveField(1) String name;                 // ุงูุงุณู
  @HiveField(2) String? description;         // ุงููุตู
  @HiveField(3) double costPrice;            // ุณุนุฑ ุงูุชูููุฉ
  @HiveField(4) double sellingPrice;         // ุณุนุฑ ุงูุจูุน
  @HiveField(5) double wholesalePrice;       // ุณุนุฑ ุงูุฌููุฉ
  @HiveField(6) String? categoryId;          // ูุฑุฌุน ุงูุชุตููู
  @HiveField(7) String? categoryName;        // ุงุณู ุงูุชุตููู
  @HiveField(8) String? brandId;             // ูุฑุฌุน ุงููุงุฑูุฉ
  @HiveField(9) String? brandName;           // ุงุณู ุงููุงุฑูุฉ
  @HiveField(10) List<ProductSizeModel> sizes;// ุงูููุงุณุงุช ูุงููุฎุฒูู
  @HiveField(11) bool isActive;              // ูุดุท ุฃู ูุง
  @HiveField(12) String? imageUrl;           // ุฑุงุจุท ุงูุตูุฑุฉ
  @HiveField(13) int totalStock;             // ุฅุฌูุงูู ุงููุฎุฒูู
  @HiveField(14) String? notes;              // ููุงุญุธุงุช
  @HiveField(15) DateTime? createdAt;        // ุชุงุฑูุฎ ุงูุฅูุดุงุก
  @HiveField(16) DateTime? updatedAt;        // ุขุฎุฑ ุชุญุฏูุซ
}
```

#### **Customer ุฌุฏูู ุงูุนููุงุก:**
```dart
@HiveType(typeId: 5)
class CustomerModel {
  @HiveField(0) String id;                   // UUID
  @HiveField(1) String name;                 // ุงูุงุณู
  @HiveField(2) String? phone;               // ุงููุงุชู
  @HiveField(3) String? address;             // ุงูุนููุงู
  @HiveField(4) String? notes;               // ููุงุญุธุงุช
  @HiveField(5) bool isActive;               // ูุดุท ุฃู ูุง
  @HiveField(6) DateTime? createdAt;         // ุชุงุฑูุฎ ุงูุฅูุดุงุก
  @HiveField(7) DateTime? updatedAt;         // ุขุฎุฑ ุชุญุฏูุซ
  @HiveField(8) String? secondaryPhone;      // ุฑูู ุจุฏูู
  @HiveField(9) String? city;                // ุงููุฏููุฉ
  @HiveField(10) double totalPurchases;      // ุฅุฌูุงูู ุงููุดุชุฑูุงุช
  @HiveField(11) double totalPaid;           // ุฅุฌูุงูู ุงููุฏููุน
  @HiveField(12) double balance;             // ุงูุฑุตูุฏ
  @HiveField(13) String type;                // wholesale|retail
  @HiveField(14) int rating;                 // 1-5
  @HiveField(15) DateTime? lastPurchaseDate; // ุขุฎุฑ ุดุฑุงุก
}
```

#### **Payment ุฌุฏูู ุงูุฏูุนุงุช:**
```dart
@HiveType(typeId: 6)
class PaymentModel {
  @HiveField(0) String id;                   // UUID
  @HiveField(1) String invoiceId;            // ูุฑุฌุน ุงููุงุชูุฑุฉ
  @HiveField(2) double amount;               // ุงููุจูุบ
  @HiveField(3) String paymentMethod;        // ุทุฑููุฉ ุงูุฏูุน
  @HiveField(4) DateTime paymentDate;        // ุชุงุฑูุฎ ุงูุฏูุน
  @HiveField(5) String? notes;               // ููุงุญุธุงุช
}
```

#### **Category ุฌุฏูู ุงูุชุตูููุงุช:**
```dart
@HiveType(typeId: 3)
class CategoryModel {
  @HiveField(0) String id;
  @HiveField(1) String name;
  @HiveField(2) String? description;
  @HiveField(3) bool isActive;
  @HiveField(4) DateTime? createdAt;
}
```

#### **Brand ุฌุฏูู ุงููุงุฑูุงุช:**
```dart
@HiveType(typeId: 4)
class BrandModel {
  @HiveField(0) String id;
  @HiveField(1) String name;
  @HiveField(2) String? description;
  @HiveField(3) bool isActive;
  @HiveField(4) DateTime? createdAt;
}
```

#### **Company ุฌุฏูู ูุนูููุงุช ุงูุดุฑูุฉ:**
```dart
@HiveType(typeId: 10)
class CompanyModel {
  @HiveField(0) String name;                 // ุงุณู ุงูุดุฑูุฉ
  @HiveField(1) String? subtitle;            // ุงูุดุนุงุฑ ุงููุตู
  @HiveField(2) String? phone;               // ุงููุงุชู
  @HiveField(3) String? address;             // ุงูุนููุงู
  @HiveField(4) DateTime updatedAt;          // ุขุฎุฑ ุชุญุฏูุซ
  @HiveField(5) String? logoPath;            // ูุณุงุฑ ุงูุดุนุงุฑ ุงููุญูู
  @HiveField(6) String? nameEn;              // ุงูุงุณู ุจุงูุฅูุฌููุฒูุฉ
  @HiveField(7) String? secondaryPhone;      // ุฑูู ุจุฏูู
  @HiveField(8) String? city;                // ุงููุฏููุฉ
  @HiveField(9) String? logoUrl;             // ุฑุงุจุท ุงูุดุนุงุฑ ุงูุฎุงุฑุฌู
  @HiveField(10) String? invoiceNotes;       // ููุงุญุธุงุช ุงููุงุชูุฑุฉ
  @HiveField(11) String? termsAndConditions; // ุงูุดุฑูุท
  @HiveField(12) String defaultCurrency;     // USD|IQD
  @HiveField(13) String invoicePrefix;       // INV
  @HiveField(14) String? websiteLink;        // ุฑุงุจุท ุงููููุน
}
```

### 7.3 ููุฒุงุช ุฅุฏุงุฑุฉ ุงูุจูุงูุงุช:

#### โ ูู ููุฌุฏ Migrationุ
**ูุนู** - ููุงู ูุธุงู ูุฌุฑุฉ ุดุงูู:
```dart
// lib/core/services/invoice_migration.dart
class InvoiceMigration {
  static Future<void> runMigrations() async {
    // ุชุฑููุฉ ุงูุจูุงูุงุช ุจูู ุงูุฅุตุฏุงุฑุงุช
  }
}
```

#### โ ูู ููุฌุฏ Backup / Exportุ
**ูุนู** - ูุธุงู ุดุงูู ูููุณุฎ ุงูุงุญุชูุงุทูุฉ:
```dart
// lib/core/services/backup_service.dart
class BackupService {
  Future<void> exportToJSON() async { }      // ุชุตุฏูุฑ ุงูุจูุงูุงุช
  Future<void> importFromJSON(String json) async { } // ุงุณุชูุฑุงุฏ ุงูุจูุงูุงุช
  Future<void> createAutoBackup() async { }  // ูุณุฎุฉ ุงุญุชูุงุทูุฉ ุชููุงุฆูุฉ
}
```

---

## 8๏ธโฃ ุงูุทุจูุฉ ุงูุดุจููุฉ (Networking)

### 8.1 ูู ููุฌุฏ APIุ
**ูุนู** - ููู ูุญุฏูุฏ ุงูุงุณุชุฎุฏุงู ุญุงููุงู:

#### **REST Endpoints:**
```
Base URL: Firestore (Cloud Backend)

๐ Users:
  POST   /users/{userId}/profile        โ ุฅูุดุงุก ููู ุงููุณุชุฎุฏู
  GET    /users/{userId}/profile        โ ุฌูุจ ุงูุจูุงูุงุช
  
๐ Invoices (Firestore):
  POST   /companies/{id}/invoices        โ ุฅูุดุงุก ูุงุชูุฑุฉ
  GET    /companies/{id}/invoices        โ ุฌูุจ ุงูููุงุชูุฑ
  PUT    /companies/{id}/invoices/{inv}  โ ุชุญุฏูุซ ูุงุชูุฑุฉ
  DELETE /companies/{id}/invoices/{inv}  โ ุญุฐู ูุงุชูุฑุฉ
  
๐ Products (Firestore):
  POST   /companies/{id}/products        โ ุฅุถุงูุฉ ููุชุฌ
  GET    /companies/{id}/products        โ ุฌูุจ ุงูููุชุฌุงุช
  
๐ Customers (Firestore):
  POST   /companies/{id}/customers       โ ุฅุถุงูุฉ ุนููู
  GET    /companies/{id}/customers       โ ุฌูุจ ุงูุนููุงุก
```

### 8.2 ููุน API:
**Firestore (NoSQL Document Database)**
- ููุณุช REST ุนุงุฏูุฉ ุจู SDK ููููุช ุงููุนูู
- ุฏุนู ูุงูู ููุนูู Offline
- ูุฒุงููุฉ ุชููุงุฆูุฉ

### 8.3 Authentication (ุงููุตุงุฏูุฉ):
```dart
// Firebase Authentication
- ุทุฑููุฉ: Email/Password
- ุงูุฎุฏูุฉ: FirebaseAuth
- ุงูุญูุธ: ูุนุฑู ุงููุณุชุฎุฏู ูู Preferences
- ุงูุฃูุงู: SSL/TLS ูู Firebase

class AuthService {
  Future<void> login(String email, String password) async {
    await FirebaseAuth.instance.signInWithEmailAndPassword(...);
  }
  
  Future<void> logout() async {
    await FirebaseAuth.instance.signOut();
  }
}
```

### 8.4 Token Handling:
```
- ููุน ุงูุชููู: Firebase Auth Token (ูุนุงูุฌุฉ ุชููุงุฆูุฉ)
- ุงูุชุญุฏูุซ: ุชููุงุฆู ูู ูุจู Firebase SDK
- ุงูุชุฎุฒูู: ุขูู ุฏุงุฎู Firebase
- ุงูุชูุงุก ุงูุตูุงุญูุฉ: 3600 ุซุงููุฉ (ุชุฌุฏูุฏ ุชููุงุฆู)
```

### 8.5 Error Handling Strategy:
```dart
class FirestoreService {
  Future<T> executeWithError<T>(
    Future<T> Function() operation, {
    required String tag,
  }) async {
    try {
      return await operation();
    } on FirebaseException catch (e) {
      logger.error('Firebase Error: ${e.message}', tag: tag);
      rethrow;
    } catch (e) {
      logger.error('Unknown Error: $e', tag: tag);
      rethrow;
    }
  }
}
```

---

## 9๏ธโฃ ุฅุฏุงุฑุฉ ุงูุฃุฎุทุงุก (Error Handling)

### 9.1 ุงุณุชุฑุงุชูุฌูุงุช ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก:

#### ุฃ) **ุฃุฎุทุงุก ุงูุดุจูุฉ:**
```dart
try {
  await firestoreService.addInvoice(invoice);
} on FirebaseException catch (e) {
  if (e.code == 'unavailable') {
    // ุงูุนูู ูู ูุถุน Offline
    await localRepository.addInvoice(invoice);
  } else {
    // ุฎุทุฃ ุขุฎุฑ
    showError('ูุดู ุญูุธ ุงููุงุชูุฑุฉ');
  }
}
```

#### ุจ) **ุฃุฎุทุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
```dart
try {
  final invoice = await repository.getInvoiceById(id);
  if (invoice == null) {
    throw Exception('ุงููุงุชูุฑุฉ ุบูุฑ ููุฌูุฏุฉ');
  }
} catch (e) {
  logger.error('Database Error: $e', tag: 'Invoice');
  // ุนุฑุถ ุฑุณุงูุฉ ูููุณุชุฎุฏู
}
```

#### ุฌ) **ุฃุฎุทุงุก ุงูุฅุฏุฎุงู (Validation):**
```dart
String? validateEmail(String? value) {
  if (value == null || value.isEmpty) {
    return 'ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุทููุจ';
  }
  if (!RegExp(r'^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$')
      .hasMatch(value)) {
    return 'ุตูุบุฉ ุงูุจุฑูุฏ ุบูุฑ ุตุญูุญุฉ';
  }
  return null;
}
```

### 9.2 ูุธุงู ุงูููุฌููุฌ:
```dart
// lib/core/services/logger_service.dart
class Logger {
  void info(String message, {required String tag}) { }
  void warning(String message, {required String tag}) { }
  void error(String message, {required String tag}) { }
  void debug(String message, {required String tag}) { }
}

// ุงูุงุณุชุฎุฏุงู:
logger.info('ูุงุชูุฑุฉ ุชู ุญูุธูุง', tag: 'Invoice');
logger.error('ูุดู ุงูุญูุธ: $error', tag: 'Invoice');
```

---

## ๐ ุงูุฃุฏุงุก (Performance)

### 10.1 ูู ุชูุฌุฏ ูุดุงูู ุฃุฏุงุก ูุนุฑููุฉุ

#### โ๏ธ **ุงููุดุงูู ุงูููููุฉ:**

1. **ุดุงุดุฉ ุฅูุดุงุก ุงููุงุชูุฑุฉ ุนูููุฉ ุฌุฏุงู** ๐
   ```
   ุงูููู: create_invoice_screen.dart
   ุนุฏุฏ ุงูุฃุณุทุฑ: 2790 ุณุทุฑ (ุถุฎู ุฌุฏุงู!)
   ุงููุดููุฉ: ุตุนูุจุฉ ุงูุตูุงูุฉ + ุฅุนุงุฏุฉ ุจูุงุก ูุซูุฑุฉ
   ุงูุญู: ุชูุณูู ุฅูู ููููุงุช ุตุบูุฑุฉ
   ```

2. **ุนุฏู ุงุณุชุฎุฏุงู const constructors ุจุดูู ูุงูู**
   ```
   ุงููุดููุฉ: ุฅุนุงุฏุฉ ุจูุงุก widget ุบูุฑ ุถุฑูุฑูุฉ
   ุงูุญู: ุฅุถุงูุฉ const ุฅูู ุฌููุน Widgets ุงูุซุงุจุชุฉ
   ```

3. **ุนุฏู ุงุณุชุฎุฏุงู lazy loading ููููุงุฆู ุงูุทูููุฉ**
   ```
   ุงููุดููุฉ: ุชุญููู ุฌููุน ุงูููุงุชูุฑ ุฏูุนุฉ ูุงุญุฏุฉ
   ุงูุญู: pagination ุฃู lazy loading
   ```

### 10.2 ุงูุชุญุณููุงุช ุงููุทุจูุฉ ุจุงููุนู:

โ **ุงุณุชุฎุฏุงู Riverpod** ููุฅุฏุงุฑุฉ ุงููุนุงูุฉ ููุญุงูุงุช  
โ **Hive** ููุชุฎุฒูู ุงูุณุฑูุน ูุญููุงู  
โ **Firebase Persistence** ูุชูููู ุงุณุชุฏุนุงุกุงุช ุงูุดุจูุฉ  
โ **ScreenUtil** ูุชูููู ุฅุนุงุฏุฉ ุงูุจูุงุก  

### 10.3 ุชูุตูุงุช ูุชุญุณูู ุงูุฃุฏุงุก:

```
1. ุชูุณูู create_invoice_screen.dart ุฅูู 5 ูููุงุช
2. ุงุณุชุฎุฏุงู const ูู ุฌููุน Widgets ุงูุซุงุจุชุฉ
3. ุฅุถุงูุฉ pagination ููููุงุฆุณ ุงููุจูุฑุฉ
4. ุงุณุชุฎุฏุงู ListView.builder ุจุฏูุงู ูู ListView
5. ุชุญุณูู ุงุณุชุฏุนุงุกุงุช ุงูู Providers
```

---

## 1๏ธโฃ1๏ธโฃ ุงููููุงุช ุงูุฃุณุงุณูุฉ ูุงูููุฏ ุงูุญุงูู

### 11.1 ุงููููุงุช ุงูุฃุณุงุณูุฉ ุงูุฑุฆูุณูุฉ:

#### [lib/main.dart](lib/main.dart)
```dart
// ููุทุฉ ุงูุฏุฎูู ููุชุทุจูู
- ุชููุฆุฉ Firebase
- ุชููุฆุฉ Hive
- ุชุณุฌูู Hive Adapters
- ุชุดุบูู ุงูุชุทุจูู ูุน ProviderScope
```

#### [lib/app/app.dart](lib/app/app.dart)
```dart
// ุชูููู ุงูุชุทุจูู ุงูุฑุฆูุณู
- ุฅุนุฏุงุฏุงุช MaterialApp
- ุงูููุถูุน (Theme)
- ุงููุญููุฉ (Localization) - ุงูุนุฑุจูุฉ
- Safe Area
```

#### [lib/app/routes.dart](lib/app/routes.dart)
```dart
// ูุธุงู ุงูุชูุฌูู
- ุชุนุฑูู ุฌููุน ุงููุณุงุฑุงุช
- ุฅูุดุงุก ุงูุตูุญุงุช
- ุงูุงูุชูุงูุงุช ุจูู ุงูุดุงุดุงุช
```

#### [lib/presentation/screens/providers/providers.dart](lib/presentation/screens/providers/providers.dart)
```dart
// ุฌููุน Riverpod Providers
- ุชุฒููุฏ ุงูู Repositories
- ุฌูุจ ุงูุจูุงูุงุช (Data Fetching)
- ุฅุฏุงุฑุฉ ุงูุญุงูุงุช
- Notifiers ููุนูููุงุช
```

### 11.2 ุงููููุงุช ุงูุชู ุจูุง ุชุนููุฏ ุนุงูู:

#### ๐ด **create_invoice_screen.dart** (2790 ุณุทุฑ!)
```
ุงููุดุงูู:
  - ุนุฏุฏ ุฃุณุทุฑ ูุงุฆู
  - ููุทู ูุนูุฏ ุฌุฏุงู
  - ุณูููุฉ ุงูุฃุฎุทุงุก
  - ุตุนูุจุฉ ุงูุตูุงูุฉ
  
ุงูุญู ุงูููุชุฑุญ:
  - ุชูุณูู ุฅูู ููููุงุช:
    1. CustomerSelectionWidget
    2. ProductSelectionWidget
    3. InvoiceCalculatorWidget
    4. PaymentMethodWidget
    5. InvoiceSummaryWidget
```

#### ๐ก **providers.dart** (910 ุณุทุฑ)
```
ุงููุดุงูู:
  - ููู ูุงุญุฏ ุถุฎู
  - ูู ุงูู Providers ูุฎุชูุทุฉ
  
ุงูุญู ุงูููุชุฑุญ:
  - ุชูุณูู ุญุณุจ ุงููุทุงู:
    - invoice_providers.dart
    - product_providers.dart
    - customer_providers.dart
    - settings_providers.dart
```

---

## 1๏ธโฃ2๏ธโฃ ุงููุดุงูู ุงูุญุงููุฉ ุจุงูุชูุตูู

### ๐ด **ุงูุฃุฎุทุงุก ุงูููุฌูุฏุฉ ุญุงููุงู:**

#### 1. **ูู invoices_list_screen.dart - ุงูุฃุณุทุฑ 497-498:**
```dart
// โ ุฎุทุฃ: ูุชุญูู ูู null ููู date ููุณุช nullable
invoiceDate: invoice.date != null
    ? '${invoice.date!.day}/${invoice.date!.month}/${invoice.date!.year}'
    : '-',
```

**ุงูุญู:**
```dart
invoiceDate: '${invoice.date.day}/${invoice.date.month}/${invoice.date.year}',
```

#### 2. **ูู invoice_details_screen.dart - ุงูุฃุณุทุฑ 654-655:**
ููุณ ุงููุดููุฉ ูุฃุนูุงู

#### 3. **ูู email_auth_screen.dart - ุงูุณุทุฑ 484:**
```dart
// โ ูุชุบูุฑ ุบูุฑ ูุณุชุฎุฏู
bool _isCheckingApproval = false;
```

**ุงูุญู:** ุญุฐู ุงููุชุบูุฑ ุฃู ุงุณุชุฎุฏุงูู

#### 4. **ูู whatsapp_helper.dart - ุงูุณุทุฑ 2:**
```dart
// โ import ุบูุฑ ูุณุชุฎุฏู
import 'package:share_plus/share_plus.dart';
```

**ุงูุญู:** ุญุฐู ุงูู import

### ๐ก **ูุดุงูู ุจููููุฉ:**

#### 1. **ูููุงุช ูุฏููุฉ ูู ุชูุญุฐู:**
```
- invoice_repository.dart (ุงูุฌุฏูุฏ: invoice_repository_new.dart)
- product_repository.dart (ุงูุฌุฏูุฏ: product_repository_new.dart)
- customer_repository.dart (ุงูุฌุฏูุฏ: customer_repository_new.dart)
```

#### 2. **Providers ูุฏููุฉ:**
```
- providers.dart (ุงูุฌุฏูุฏ: providers_new.dart)
```

#### 3. **ูููุงุช ูุฒุงููุฉ ูุนูุฏุฉ:**
```
- sync_service.dart + realtime_sync_service.dart + initial_sync_service.dart
= ูููู ุชูุญูุฏูุง ูู ุฎุฏูุฉ ูุงุญุฏุฉ
```

---

## 1๏ธโฃ3๏ธโฃ ุงููุฏู ูู ุงููุฑุงุฌุนุฉ ูุงูุชุญุณููุงุช ุงูููุชุฑุญุฉ

### ุงูุฃูุฏุงู:

1. โ **ุฅุนุงุฏุฉ ููููุฉ ุงููููุงุช ุงูุถุฎูุฉ**
   - ุชูุณูู create_invoice_screen ุฅูู ููููุงุช

2. โ **ุชูุธูู ุงููููุงุช ุงููุฏููุฉ**
   - ุญุฐู ุงูู Repositories ุงููุฏููุฉ
   - ุญุฐู ุงูู Providers ุงููุฏููุฉ

3. โ **ุชูุญูุฏ ุฎุฏูุงุช ุงููุฒุงููุฉ**
   - ุฏูุฌ sync services ูู ุฎุฏูุฉ ูุงุญุฏุฉ

4. โ **ุฅุตูุงุญ ุงูุฃุฎุทุงุก ุงูุญุงููุฉ**
   - ุฅุตูุงุญ null-check errors
   - ุญุฐู imports ุบูุฑ ุงููุณุชุฎุฏูุฉ

5. โ **ุชุญุณูู ุงูุฃุฏุงุก**
   - ุฅุถุงูุฉ const constructors
   - lazy loading ููููุงุฆู

6. โ **ุชูุซูู ุดุงูู**
   - ุฅุถุงูุฉ ุชุนูููุงุช ูููุธุงุฆู ุงููุนูุฏุฉ
   - ุชูุซูู ุงูู APIs

---

## 1๏ธโฃ4๏ธโฃ ุงููููุฏ ุงูุตุงุฑูุฉ (Constraints)

### ๐ **ุงูููููุฉ ูุงูุชุฑุฎูุต:**
```
- ุงููุดุฑูุน: ููููุฉ ุฎุงุตุฉ
- ุงูููุน: ุชุทุจูู ุชุฌุงุฑู
- ูุฌุจ ุงูุญูุงุธ ุนูู ุฌูุฏุฉ ุงูููุฏ
```

### โ๏ธ **ุงููููุฏ ุงูุชูููุฉ:**
```
- ุงูุญุฏ ุงูุฃุฏูู SDK: Android 21 (API Level 21)
- Dart Version: >= 3.2.0
- Flutter Version: Latest Stable
- ุญุฌู ุงูุชุทุจูู: < 100MB
```

### ๐ฆ **ุญุธุฑ ุงุณุชุฎุฏุงู:**
```
โ ูุง ููุณูุญ ุจู:
  - ุชุบููุฑ Firebase Project
  - ุญุฐู ุงูู Models ุงูุฃุณุงุณูุฉ
  - ุชุบููุฑ ุจููุฉ Database
  - ุฅุฒุงูุฉ Hive
  - ุชุบููุฑ Material Design

โ ูุณููุญ ุจู:
  - ุฅุถุงูุฉ ุญุฒู ุฌุฏูุฏุฉ
  - ุชุญุณูู ุงูุฃุฏุงุก
  - ุฅุถุงูุฉ ููุฒุงุช
  - ุชุนุฏูู ุงููุงุฌูุฉ
  - ุชุญุณูู UX
```

### โฑ๏ธ **ุงููููุฏ ุงูุฒูููุฉ:**
```
- ุงููุดุฑูุน ูู ุงูุฅูุชุงุฌ: ูุฌุจ ุงูุญุฐุฑ ูู ุงูุชุบููุฑุงุช ุงูุฌุฐุฑูุฉ
- ุงูุงุฎุชุจุงุฑ: ุฅูุฒุงูู ูุจู ุฃู ุชุญุฏูุซ
- ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ: ููููุฉ ูุณุชุญุณูุฉ
```

---

## ๐ ููุฎุต ุดุงูู

| ุงูุนูุตุฑ | ุงูุญุงูุฉ | ุงูููุงุญุธุงุช |
|--------|-------|---------|
| **ุงูุญุงูุฉ ุงูุนุงูุฉ** | โ ุฌูุฏ ุฌุฏุงู | Ready for Production |
| **ุงูุจููุฉ ุงููุนูุงุฑูุฉ** | โ ููุชุงุฒุฉ | Clean Architecture |
| **ุฅุฏุงุฑุฉ ุงูุญุงูุฉ** | โ ุฌูุฏุฉ | Riverpod ูุชูุฏู |
| **ูุงุนุฏุฉ ุงูุจูุงูุงุช** | โ ููุชุงุฒุฉ | Hive + Firestore |
| **ุงููุฒุงููุฉ** | โ ุฌูุฏุฉ | Offline-First |
| **ุงูุฃูุงู** | โ ุฌูุฏ | Firebase Auth |
| **ุงูุฃุฏุงุก** | โ๏ธ ุฌูุฏ | ุจุนุถ ุงูุชุญุณููุงุช ููููุฉ |
| **ุงูุฃุฎุทุงุก** | ๐ก ุจุณูุทุฉ | 4 ุฃุฎุทุงุก ููุท |
| **ุงูุชูุซูู** | โ๏ธ ูุชูุณุท | ูุญุชุงุฌ ุชุญุณููุงุช |
| **ุตูุงูุฉ ุงูููุฏ** | ๐ก ุฌูุฏ | ุจุนุถ ุงููููุงุช ุถุฎูุฉ |

---

## ๐ฏ ุงูุชูุตูุงุช ุงูููุงุฆูุฉ

### **ุงูุฃููููุงุช:**

1. **ุนุงุฌู (Urgent):**
   - โ ุฅุตูุงุญ ุงูุฃุฎุทุงุก ุงูุจุณูุทุฉ
   - โ ุญุฐู ุงููููุงุช ุงููุฏููุฉ

2. **ููู (Important):**
   - โ ุชูุณูู create_invoice_screen
   - โ ุชูุญูุฏ providers.dart

3. **ูุฑุบูุจ (Nice to have):**
   - โ ุฅุถุงูุฉ pagination
   - โ ุชุญุณูู ุงูุฃุฏุงุก
   - โ ุฅุถุงูุฉ unit tests

---

**ุชู ุฅุนุฏุงุฏ ุงูุชุญููู ุจุชุงุฑูุฎ: 25 ููุงูุฑ 2026**  
**ุงูุฅุตุฏุงุฑ: 1.0.0**  
**ุงูุญุงูุฉ: ุฌุงูุฒ ููุฅูุชุงุฌ โ**

